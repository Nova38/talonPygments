input: "double dash: \"--\"\ntriple quote: \"'''\"\n(triple grave | triple back tick\
  \ | gravy):\n    insert(\"```\")\n(dot dot | dotdot): \"..\"\nellipses: \"...\"\n\
  (comma and | spamma): \", \"\narrow: \"->\"\ndub arrow: \"=>\"\nnew line: \"\\\\\
  n\"\ncarriage return: \"\\\\r\"\nline feed: \"\\\\r\\\\n\"\nempty dubstring: user.insert_between('\"\
  ', '\"')\nempty escaped (dubstring|dub quotes): user.insert_between('\\\\\"', '\\\
  \\\"')\nempty string: user.insert_between(\"'\", \"'\")\nempty escaped string: user.insert_between(\"\
  \\\\'\", \"\\\\'\")\n(inside parens | args): user.insert_between(\"(\", \")\")\n\
  inside (squares | square brackets | list): user.insert_between(\"[\", \"]\")\ninside\
  \ (bracket | braces): user.insert_between(\"{\", \"}\")\ninside percent: user.insert_between(\"\
  %\", \"%\")\ninside (quotes | string): user.insert_between(\"'\", \"'\")\ninside\
  \ (double quotes | dubquotes): user.insert_between('\"', '\"')\ninside (graves |\
  \ back ticks): user.insert_between(\"`\", \"`\")\nangle that:\n    text = edit.selected_text()\n\
  \    user.paste(\"<{text}>\")\n(square | square bracket) that:\n    text = edit.selected_text()\n\
  \    user.paste(\"[{text}]\")\n(bracket | brace) that:\n    text = edit.selected_text()\n\
  \    user.paste(\"{{{text}}}\")\n(parens | args) that:\n    text = edit.selected_text()\n\
  \    user.paste(\"({text})\")\npercent that:\n    text = edit.selected_text()\n\
  \    user.paste(\"%{text}%\")\nquote that:\n    text = edit.selected_text()\n  \
  \  user.paste(\"'{text}'\")\n(double quote | dubquote) that:\n    text = edit.selected_text()\n\
  \    user.paste('\"{text}\"')\n(grave | back tick) that:\n    text = edit.selected_text()\n\
  \    user.paste('`{text}`')\n"
output:
  type: source_file
  children:
  - type: context
    children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: double
          type: word
        - text: dash
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: --
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: triple
          type: word
        - text: quote
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: "'''"
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: parenthesized_rule
        children:
        - type: choice
          children:
          - type: seq
            children:
            - text: triple
              type: word
            - text: grave
              type: word
          - type: seq
            children:
            - text: triple
              type: word
            - text: back
              type: word
            - text: tick
              type: word
          - text: gravy
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: insert
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '```'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: parenthesized_rule
        children:
        - type: choice
          children:
          - type: seq
            children:
            - text: dot
              type: word
            - text: dot
              type: word
          - text: dotdot
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: ..
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - text: ellipses
        type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: '...'
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: parenthesized_rule
        children:
        - type: choice
          children:
          - type: seq
            children:
            - text: comma
              type: word
            - text: and
              type: word
          - text: spamma
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: ', '
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - text: arrow
        type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: ->
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: dub
          type: word
        - text: arrow
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: =>
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: new
          type: word
        - text: line
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: \\
            type: string_escape_sequence
          - text: n
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: carriage
          type: word
        - text: return
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: \\
            type: string_escape_sequence
          - text: r
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: line
          type: word
        - text: feed
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: string
          children:
          - text: \\
            type: string_escape_sequence
          - text: r
            type: string_content
          - text: \\
            type: string_escape_sequence
          - text: n
            type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: empty
          type: word
        - text: dubstring
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '"'
                type: string_content
            - type: string
              children:
              - text: '"'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: empty
          type: word
        - text: escaped
          type: word
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: dubstring
              type: word
            - type: seq
              children:
              - text: dub
                type: word
              - text: quotes
                type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: \\
                type: string_escape_sequence
              - text: '"'
                type: string_content
            - type: string
              children:
              - text: \\
                type: string_escape_sequence
              - text: '"'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: empty
          type: word
        - text: string
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: "'"
                type: string_content
            - type: string
              children:
              - text: "'"
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: empty
          type: word
        - text: escaped
          type: word
        - text: string
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: \\
                type: string_escape_sequence
              - text: "'"
                type: string_content
            - type: string
              children:
              - text: \\
                type: string_escape_sequence
              - text: "'"
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: parenthesized_rule
        children:
        - type: choice
          children:
          - type: seq
            children:
            - text: inside
              type: word
            - text: parens
              type: word
          - text: args
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: (
                type: string_content
            - type: string
              children:
              - text: )
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: inside
          type: word
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: squares
              type: word
            - type: seq
              children:
              - text: square
                type: word
              - text: brackets
                type: word
            - text: list
              type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '['
                type: string_content
            - type: string
              children:
              - text: ']'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: inside
          type: word
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: bracket
              type: word
            - text: braces
              type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '{'
                type: string_content
            - type: string
              children:
              - text: '}'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: inside
          type: word
        - text: percent
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '%'
                type: string_content
            - type: string
              children:
              - text: '%'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: inside
          type: word
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: quotes
              type: word
            - text: string
              type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: "'"
                type: string_content
            - type: string
              children:
              - text: "'"
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: inside
          type: word
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - type: seq
              children:
              - text: double
                type: word
              - text: quotes
                type: word
            - text: dubquotes
              type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '"'
                type: string_content
            - type: string
              children:
              - text: '"'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: inside
          type: word
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: graves
              type: word
            - type: seq
              children:
              - text: back
                type: word
              - text: ticks
                type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.insert_between
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '`'
                type: string_content
            - type: string
              children:
              - text: '`'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: angle
          type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: <
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: '>'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: square
              type: word
            - type: seq
              children:
              - text: square
                type: word
              - text: bracket
                type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '['
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: ']'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: bracket
              type: word
            - text: brace
              type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '{{'
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}}'
                type: string_content
              - text: '}'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: parens
              type: word
            - text: args
              type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: (
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: )
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: percent
          type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '%'
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: '%'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: quote
          type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: "'"
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: "'"
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - type: seq
              children:
              - text: double
                type: word
              - text: quote
                type: word
            - text: dubquote
              type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '"'
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: '"'
                type: string_content
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - type: parenthesized_rule
          children:
          - type: choice
            children:
            - text: grave
              type: word
            - type: seq
              children:
              - text: back
                type: word
              - text: tick
                type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: assignment
        left:
          text: text
          type: identifier
        right:
          type: action
          action_name:
            text: edit.selected_text
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: user.paste
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children:
              - text: '`'
                type: string_content
              - text: '{'
                type: string_content
              - text: text
                type: string_content
              - text: '}'
                type: string_content
              - text: '`'
                type: string_content
