input: "tag: user.find_and_replace\n-\nhunt this: user.find(\"\")\nhunt this <user.text>:\
  \ user.find(text)\nhunt all: user.find_everywhere(\"\")\nhunt all <user.text>: user.find_everywhere(text)\n\
  hunt case : user.find_toggle_match_by_case()\nhunt word : user.find_toggle_match_by_word()\n\
  hunt expression : user.find_toggle_match_by_regex()\nhunt next: user.find_next()\n\
  hunt previous: user.find_previous()\nreplace this [<user.text>]: user.replace(text\
  \ or \"\")\nreplace all: user.replace_everywhere(\"\")\nreplace <user.text> all:\
  \ user.replace_everywhere(text)\nreplace confirm that: user.replace_confirm()\n\
  replace confirm all: user.replace_confirm_all()\n\n#quick replace commands, modeled\
  \ after jetbrains\nclear last <user.text> [over]:\n    user.select_previous_occurrence(text)\n\
  \    sleep(100ms)\n    edit.delete()\nclear next <user.text> [over]:\n    user.select_next_occurrence(text)\n\
  \    sleep(100ms)\n    edit.delete()\nclear last clip:\n    user.select_previous_occurrence(clip.text())\n\
  \    edit.delete()\nclear next clip:\n    user.select_next_occurrence(clip.text())\n\
  \    sleep(100ms)\n    edit.delete()\ncomment last <user.text> [over]:\n    user.select_previous_occurrence(text)\n\
  \    sleep(100ms)\n    code.toggle_comment()\ncomment last clip:\n    user.select_previous_occurrence(clip.text())\n\
  \    sleep(100ms)\n    code.toggle_comment()\ncomment next <user.text> [over]:\n\
  \    user.select_next_occurrence(text)\n    sleep(100ms)\n    code.toggle_comment()\n\
  comment next clip:\n    user.select_next_occurrence(clip.text())\n    sleep(100ms)\n\
  \    code.toggle_comment()\ngo last <user.text> [over]:\n    user.select_previous_occurrence(text)\n\
  \    sleep(100ms)\n    edit.right()\ngo last clip:\n    user.select_previous_occurrence(clip.text())\n\
  \    sleep(100ms)\n    edit.right()\ngo next <user.text> [over]:\n    user.select_next_occurrence(text)\n\
  \    edit.right()\ngo next clip:\n    user.select_next_occurrence(clip.text())\n\
  \    edit.right()\npaste last <user.text> [over]:\n    user.select_previous_occurrence(text)\n\
  \    sleep(100ms)\n    edit.right()\n    edit.paste()\npaste next <user.text> [over]:\n\
  \    user.select_next_occurrence(text)\n    sleep(100ms)\n    edit.right()\n   \
  \ edit.paste()\nreplace last <user.text> [over]:\n    user.select_previous_occurrence(text)\n\
  \    sleep(100ms)\n    edit.paste()\nreplace next <user.text> [over]:\n    user.select_next_occurrence(text)\n\
  \    sleep(100ms)\n    edit.paste()\nselect last <user.text> [over]: user.select_previous_occurrence(text)\n\
  select next <user.text> [over]: user.select_next_occurrence(text)\nselect last clip:\
  \ user.select_previous_occurrence(clip.text())\nselect next clip: user.select_next_occurrence(clip.text())\n"
output:
  type: source_file
  children:
  - type: context
    children:
    - type: match
      key:
        text: tag
        type: identifier
      pattern:
        text: ' user.find_and_replace'
        type: implicit_string
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: this
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: this
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: all
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_everywhere
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: all
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_everywhere
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: case
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_toggle_match_by_case
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: word
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_toggle_match_by_word
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: expression
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_toggle_match_by_regex
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: next
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_next
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: hunt
          type: word
        - text: previous
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.find_previous
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - text: this
          type: word
        - type: optional
          children:
          - type: capture
            capture_name:
              text: user.text
              type: identifier
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.replace
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: binary_operator
              left:
                type: variable
                variable_name:
                  text: text
                  type: identifier
              operator:
                text: or
                type: operator
              right:
                type: string
                children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - text: all
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.replace_everywhere
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: string
              children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - text: all
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.replace_everywhere
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - text: confirm
          type: word
        - text: that
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.replace_confirm
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - text: confirm
          type: word
        - text: all
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.replace_confirm_all
            type: identifier
          arguments:
            type: argument_list
            children: []
  - text: '#quick replace commands, modeled after jetbrains'
    type: comment
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: clear
          type: word
        - text: last
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.delete
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: clear
          type: word
        - text: next
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.delete
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: clear
          type: word
        - text: last
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.delete
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: clear
          type: word
        - text: next
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.delete
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: comment
          type: word
        - text: last
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: code.toggle_comment
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: comment
          type: word
        - text: last
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: code.toggle_comment
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: comment
          type: word
        - text: next
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: code.toggle_comment
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: comment
          type: word
        - text: next
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: code.toggle_comment
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: go
          type: word
        - text: last
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.right
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: go
          type: word
        - text: last
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.right
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: go
          type: word
        - text: next
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.right
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: go
          type: word
        - text: next
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.right
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: paste
          type: word
        - text: last
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.right
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.paste
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: paste
          type: word
        - text: next
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.right
            type: identifier
          arguments:
            type: argument_list
            children: []
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.paste
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - text: last
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.paste
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: replace
          type: word
        - text: next
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
      - type: expression
        expression:
          type: sleep_action
          arguments:
            text: 100ms
            type: implicit_string
      - type: expression
        expression:
          type: action
          action_name:
            text: edit.paste
            type: identifier
          arguments:
            type: argument_list
            children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: select
          type: word
        - text: last
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: select
          type: word
        - text: next
          type: word
        - type: capture
          capture_name:
            text: user.text
            type: identifier
        - type: optional
          children:
          - text: over
            type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: variable
              variable_name:
                text: text
                type: identifier
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: select
          type: word
        - text: last
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_previous_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: select
          type: word
        - text: next
          type: word
        - text: clip
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: action
          action_name:
            text: user.select_next_occurrence
            type: identifier
          arguments:
            type: argument_list
            children:
            - type: action
              action_name:
                text: clip.text
                type: identifier
              arguments:
                type: argument_list
                children: []
