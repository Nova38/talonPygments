input: "app: termite\nand not win.title: /VIM/\n-\n#comment or remove tags for command\
  \ sets you don't want\n#termite doesn't support the file_manager stuff yet\n#tag():\
  \ user.file_manager\ntag(): user.kubectl\ntag(): user.git\ntag(): user.taskwarrior\n\
  tag(): terminal\n\n# Selection mode\nshell yank: key(\"y\")\nshell select: key(\"\
  ctrl-shift-space\")\nshell insert: key(\"escape\")\nvisual line: key(\"v\")\nvisual\
  \ line mode: key(\"V\")\n"
output:
  type: source_file
  children:
  - type: context
    children:
    - type: and
      children:
      - type: match
        key:
          text: app
          type: identifier
        pattern:
          text: ' termite'
          type: implicit_string
      - type: not
        children:
        - type: match
          key:
            text: win.title
            type: identifier
          pattern:
            text: ' /VIM/'
            type: implicit_string
  - text: "#comment or remove tags for command sets you don't want"
    type: comment
  - text: "#termite doesn't support the file_manager stuff yet"
    type: comment
  - text: '#tag(): user.file_manager'
    type: comment
  - type: include_tag
    tag:
      text: user.kubectl
      type: identifier
  - type: include_tag
    tag:
      text: user.git
      type: identifier
  - type: include_tag
    tag:
      text: user.taskwarrior
      type: identifier
  - type: include_tag
    tag:
      text: terminal
      type: identifier
  - text: '# Selection mode'
    type: comment
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: shell
          type: word
        - text: yank
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: key_action
          arguments:
            text: '"y"'
            type: implicit_string
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: shell
          type: word
        - text: select
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: key_action
          arguments:
            text: '"ctrl-shift-space"'
            type: implicit_string
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: shell
          type: word
        - text: insert
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: key_action
          arguments:
            text: '"escape"'
            type: implicit_string
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: visual
          type: word
        - text: line
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: key_action
          arguments:
            text: '"v"'
            type: implicit_string
  - type: command
    rule:
      type: rule
      children:
      - type: seq
        children:
        - text: visual
          type: word
        - text: line
          type: word
        - text: mode
          type: word
    script:
      type: block
      children:
      - type: expression
        expression:
          type: key_action
          arguments:
            text: '"V"'
            type: implicit_string
